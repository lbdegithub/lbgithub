### 接口整理

#### 终端仪表盘

* 大华提供仪表盘的统计接口，`民E通`在终端展示。

#### 事件

* 大华提供事件接收接口

  * 主要针对`消防巡检`产生的事件，`平安大巡防`产生的事件，以及`你盯我办`事件。

  * `民E通`需要把相应的事件同步到大华，事件的处理过程都需要同步（不同的事件状态）。

    >  后面会提供具体的接口文档。

#### 活动

* 大华提供活动列表接口，`民E通`获取活动信息在终端展示。

* 民众在参与活动的同时，`民E通`需要把参与的民众信息同步到大华。同时把民众对活动的反馈和评分同步到大华。

* 民E通提供接收活动的接口，大华在新建活动的时候，会主动调用接口，同步给`民E通`。

  > 民E通目前只有社区活动，另外需要支持党群活动。
  >
  > 民E通可以通过主动请求大华接口获取活动列表，也可以接受大华主动推送的活动信息。

  

#### 通知公告

* 大华提供通知公告接口，`民E通`获取之后推送给指定的对象。

* `民E通`需要同步通知公告（针对单条公告）的发送对象总数和已读总数到大华。

* `民E通`需要提供接收通知公告的接口，大华在新建公告的时候，会主动调用接口，同步给民E通。

  > 大华目前只需要单条公告发送的总数和已读的总数，不需要具体的发送对象和已读对象。



#### 消防物资

* 大华提供社区内所有的楼房详细地址信息，供`民E通`做消防巡检使用。

* `民E通`提供消防物质的巡检功能。主要包括消防微站的消防物资巡检，对小区楼栋内设的消防物资巡检。

* `民E通`提供消防物资的统计接口，大华会主动查询。

  > 大华需要的消防物资的统计信息，如消防设备的总数。有的物资数据通过巡检盘点获取不到的，民E通可以自己已静态数据的方式维护（如救灾次数，消防力量等）。
  >
  > 消防物资统计接口中需要携带消防微站的信息，具体见之后的接口文档。
  >
  > 在巡检过程中如果产生相应的事件需要同步到大华（上述事件中有描述）。



#### 平安大巡防

* `民E通`提供巡防的统计接口，可以按月按年的查询巡防的统计信息。
* 巡防产生的事件信息需要同步到大华（上述事件中有描述）。

> 民E通现有的平安大巡防的事件类型可能需要重新定义，因为大华会根据平安大巡防的事件类型进行统计。



#### 隐患预警

* `民E通`提供预警通知接口。

> 情景：当发生隐患预警的时候，大华会选择性的推给民E通，民E通再以消息的方式推给指定的对象。
>
> 其他不做处理，只是提醒的功能。



#### 你盯我办

* 你盯我办对应的事件需要同步到大华（上述事件中有描述）。



#### 平安学堂

* `民E通`提供平安学堂的统计信息接口。



#### 信息发布

功能和通知公告类似。

* 大华提供信息列表接口，`民E通`主动获取并推送展示。
* `民E通`提供接收信息的接口，大华新建信息的时候会主动推送到`民E通`。



#### 积分管理

积分管理暂定全部由民E通处理。

* `民E通`提供`积分变动`接口，大华会根据特定的情境主动调用`民E通`的`积分变动`接口，增加或者扣减民众的积分。
* `民E通`提供积分查询接口。

> 大华需要在智慧社区的大屏端展示民众的积分情况和统计信息，如个人的积分总数，积分扣减记录，积分变化趋势，积分榜等。
>
> 可能会按照不通的维度查询，详细见以后的接口文档。



#### 用户

`民E通`和大华的用户需要建立关联。

* 当`民E通`的终端用户加入组织时，需要用户实名认证（姓名+身份证）。并同时把用户信息同步到大华。

#### 组织部门

* 大华提供自己的组织部分接口，`民E通`获取之后，需要和`民E通`自身的做匹配关联。

#### 角色权限

* 大华提供角色权限接口，`民E通`用户登录后会根据角色展示不同功能。





> 如果有遗漏或者不明确的地方，可以提出重新梳理。

